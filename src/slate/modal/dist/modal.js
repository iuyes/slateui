define("slate/modal/1.0.0/modal",["$"],function(a){var b=a("$");b.fn.modal=function(a){var c,d=b(this),e=b(window),f=b(document),g=b("body"),h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1),m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,0)};return d.each(function(){var n,o,p,q,r,s,t=b.isPlainObject(a)?b.extend(!0,{},b.fn.modal.settings,a):b.extend({},b.fn.modal.settings),u=t.selector,v=t.className,w=t.namespace,x=t.error,y="."+w,z="module-"+w,A=d.selector||"",B=b(this),C=b(t.context),D=B.find(u.close),E=this,F=B.data(z);s={initialize:function(){return s.verbose("Initializing dimmer",C),void 0===b.fn.dimmer?(s.error(x.dimmer),void 0):(q=C.dimmer({closable:!1,useCSS:!0,duration:{show:.9*t.duration,hide:1.1*t.duration}}),t.detachable&&q.dimmer("add content",B),r=q.dimmer("get dimmer"),o=B.siblings(u.modal),n=o.add(B),s.verbose("Attaching close events",D),D.on("click"+y,s.event.close),e.on("resize"+y,s.event.resize),s.instantiate(),void 0)},instantiate:function(){s.verbose("Storing instance of modal"),F=s,B.data(z,F)},destroy:function(){s.verbose("Destroying previous modal"),B.removeData(z).off(y),D.off(y),C.dimmer("destroy")},refresh:function(){s.remove.scrolling(),s.cacheSizes(),s.set.screenHeight(),s.set.type(),s.set.position()},attachEvents:function(a,c){var d=b(a);c=b.isFunction(s[c])?s[c]:s.toggle,d.size()>0?(s.debug("Attaching modal events to element",a,c),d.off(y).on("click"+y,c)):s.error(x.notFound)},event:{close:function(){s.verbose("Closing element pressed"),b(this).is(u.approve)?b.proxy(t.onApprove,E)()!==!1?s.hide():s.verbose("Approve callback returned false cancelling hide"):b(this).is(u.deny)?b.proxy(t.onDeny,E)()!==!1?s.hide():s.verbose("Deny callback returned false cancelling hide"):s.hide()},click:function(a){0===b(a.target).closest(u.modal).size()&&(s.debug("Dimmer clicked, hiding all modals"),t.allowMultiple?s.hide():s.hideAll(),a.stopImmediatePropagation())},debounce:function(a,b){clearTimeout(s.timer),s.timer=setTimeout(a,b)},keyboard:function(a){var b=a.which,c=27;b==c&&(t.closable?(s.debug("Escape key pressed hiding modal"),s.hide()):s.debug("Escape key pressed, but closable is set to false"),a.preventDefault())},resize:function(){q.dimmer("is active")&&m(s.refresh)}},toggle:function(){s.is.active()?s.hide():s.show()},show:function(a){a=b.isFunction(a)?a:function(){},s.showDimmer(),s.showModal(a)},showModal:function(a){a=b.isFunction(a)?a:function(){},s.is.active()?s.debug("Modal is already visible"):(void 0===s.cache&&s.cacheSizes(),s.set.position(),s.set.screenHeight(),s.set.type(),o.filter(":visible").size()>0&&!t.allowMultiple?(s.debug("Other modals visible, queueing show animation"),s.hideOthers(s.showModal)):(b.proxy(t.onShow,E)(),t.transition&&void 0!==b.fn.transition&&B.transition("is supported")?(s.debug("Showing modal with css animations"),B.transition(t.transition+" in",t.duration,function(){b.proxy(t.onVisible,E)(),s.set.active(),a()})):(s.debug("Showing modal with javascript"),B.fadeIn(t.duration,t.easing,function(){b.proxy(t.onVisible,E)(),s.set.active(),a()}))))},showDimmer:function(){q.dimmer("is active")?s.debug("Dimmer already visible"):(s.debug("Showing dimmer"),q.dimmer("show"))},hide:function(a){a=b.isFunction(a)?a:function(){},n.filter(":visible").size()<=1&&s.hideDimmer(),s.hideModal(a)},hideDimmer:function(){return s.is.active()?(s.debug("Hiding dimmer"),t.closable&&r.off("click"+y),q.dimmer("hide",function(){t.transition&&void 0!==b.fn.transition&&B.transition("is supported")&&(B.transition("reset"),s.remove.screenHeight()),s.remove.active()}),void 0):(s.debug("Dimmer is not visible cannot hide"),void 0)},hideModal:function(a){return a=b.isFunction(a)?a:function(){},s.is.active()?(s.debug("Hiding modal"),s.remove.keyboardShortcuts(),b.proxy(t.onHide,E)(),t.transition&&void 0!==b.fn.transition&&B.transition("is supported")?B.transition(t.transition+" out",t.duration,function(){b.proxy(t.onHidden,E)(),s.remove.active(),s.restore.focus(),a()}):B.fadeOut(t.duration,t.easing,function(){b.proxy(t.onHidden,E)(),s.remove.active(),s.restore.focus(),a()}),void 0):(s.debug("Cannot hide modal it is not active"),void 0)},hideAll:function(a){a=b.isFunction(a)?a:function(){},n.is(":visible")&&(s.debug("Hiding all visible modals"),s.hideDimmer(),n.filter(":visible").modal("hide modal",a))},hideOthers:function(a){a=b.isFunction(a)?a:function(){},o.is(":visible")&&(s.debug("Hiding other modals"),o.filter(":visible").modal("hide modal",a))},add:{keyboardShortcuts:function(){s.verbose("Adding keyboard shortcuts"),f.on("keyup"+y,s.event.keyboard)}},save:{focus:function(){p=b(document.activeElement).blur()}},restore:{focus:function(){p&&p.size()>0&&p.focus()}},remove:{active:function(){B.removeClass(v.active)},screenHeight:function(){s.cache.height>s.cache.pageHeight&&(s.debug("Removing page height"),g.css("height",""))},keyboardShortcuts:function(){s.verbose("Removing keyboard shortcuts"),f.off("keyup"+y)},scrolling:function(){q.removeClass(v.scrolling),B.removeClass(v.scrolling)}},cacheSizes:function(){s.cache={pageHeight:g.outerHeight(),height:B.outerHeight()+t.offset,contextHeight:"body"==t.context?b(window).height():q.height()},s.debug("Caching modal and container sizes",s.cache)},can:{fit:function(){return s.cache.height<s.cache.contextHeight}},is:{active:function(){return B.hasClass(v.active)},modernBrowser:function(){return!(window.ActiveXObject||"ActiveXObject"in window)}},set:{screenHeight:function(){s.cache.height>s.cache.pageHeight&&(s.debug("Modal is taller than page content, resizing page height"),g.css("height",s.cache.height+t.padding))},active:function(){s.add.keyboardShortcuts(),s.save.focus(),B.addClass(v.active),t.closable&&r.off("click"+y).on("click"+y,s.event.click)},scrolling:function(){q.addClass(v.scrolling),B.addClass(v.scrolling)},type:function(){s.can.fit()?(s.verbose("Modal fits on screen"),s.remove.scrolling()):(s.verbose("Modal cannot fit on screen setting to scrolling"),s.set.scrolling())},position:function(){s.verbose("Centering modal on page",s.cache),s.can.fit()?B.css({top:"",marginTop:-(s.cache.height/2)}):B.css({marginTop:"1em",top:f.scrollTop()})}},setting:function(a,c){if(s.debug("Changing setting",a,c),b.isPlainObject(a))b.extend(!0,t,a);else{if(void 0===c)return t[a];t[a]=c}},internal:function(a,c){if(b.isPlainObject(a))b.extend(!0,s,a);else{if(void 0===c)return s[a];s[a]=c}},debug:function(){t.debug&&(t.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,t.name+":"),s.debug.apply(console,arguments)))},verbose:function(){t.verbose&&t.debug&&(t.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,t.name+":"),s.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;t.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Element:E,Name:a[0],Arguments:[].slice.call(a,1)||"","Execution Time":c})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,100)},display:function(){var a=t.name+":",c=0;h=!1,clearTimeout(s.performance.timer),b.each(i,function(a,b){c+=b["Execution Time"]}),a+=" "+c+"ms",A&&(a+=" '"+A+"'"),(void 0!==console.group||void 0!==console.table)&&i.length>0&&(console.groupCollapsed(a),console.table?console.table(i):b.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(a,d,e){var f,g,h,i=F;return d=d||l,e=E||e,"string"==typeof a&&void 0!==i&&(a=a.split(/[\. ]/),f=a.length-1,b.each(a,function(c,d){var e=c!=f?d+a[c+1].charAt(0).toUpperCase()+a[c+1].slice(1):a;if(b.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!b.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):!1;i=i[d]}})),b.isFunction(g)?h=g.apply(e,d):void 0!==g&&(h=g),b.isArray(c)?c.push(h):void 0!==c?c=[c,h]:void 0!==h&&(c=h),g}},k?(void 0===F&&s.initialize(),s.invoke(j)):(void 0!==F&&s.destroy(),s.initialize())}),void 0!==c?c:this},b.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!0,performance:!0,allowMultiple:!0,detachable:!0,closable:!0,context:"body",duration:500,easing:"easeOutExpo",offset:0,transition:"scale",padding:30,onShow:function(){},onHide:function(){},onVisible:function(){},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined."},className:{active:"active",scrolling:"scrolling"}}});
