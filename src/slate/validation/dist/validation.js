define("slate/validation/1.0.0/validation",["$"],function(a){var b=a("$");b.fn.form=function(a,c){var d,e=b(this),f=b.extend(!0,{},b.fn.form.settings,c),g=b.extend({},b.fn.form.settings.defaults,a),h=f.namespace,i=f.metadata,j=f.selector,k=f.className,l=(f.error,"."+h),m="module-"+h,n=e.selector||"",o=(new Date).getTime(),p=[],q=arguments[0],r="string"==typeof q,s=[].slice.call(arguments,1);return e.each(function(){var a,c=b(this),h=b(this).find(j.field),t=b(this).find(j.group),u=b(this).find(j.message),v=(b(this).find(j.prompt),b(this).find(j.submit)),w=[],x=this,y=c.data(m);a={initialize:function(){a.verbose("Initializing form validation",c,g,f),a.bindEvents(),a.instantiate()},instantiate:function(){a.verbose("Storing instance of module",a),y=a,c.data(m,a)},destroy:function(){a.verbose("Destroying previous module",y),a.removeEvents(),c.removeData(m)},refresh:function(){a.verbose("Refreshing selector cache"),h=c.find(j.field)},submit:function(){a.verbose("Submitting form",c),c.submit()},bindEvents:function(){f.keyboardShortcuts&&h.on("keydown"+l,a.event.field.keydown),c.on("submit"+l,a.validate.form),h.on("blur"+l,a.event.field.blur),v.on("click"+l,a.submit),h.each(function(){var c=b(this).prop("type"),d=a.get.changeEvent(c);b(this).on(d+l,a.event.field.change)})},removeEvents:function(){c.off(l),h.off(l),v.off(l),h.off(l)},event:{field:{keydown:function(c){var d=b(this),e=c.which,f={enter:13,escape:27};return e==f.escape&&(a.verbose("Escape key pressed blurring field"),d.blur()),!c.ctrlKey&&e==f.enter&&d.is(j.input)?(a.debug("Enter key pressed, submitting form"),v.addClass(k.down),d.one("keyup"+l,a.event.field.keyup),c.preventDefault(),!1):void 0},keyup:function(){a.verbose("Doing keyboard shortcut form submit"),v.removeClass(k.down),a.submit()},blur:function(){var c=b(this),d=c.closest(t);d.hasClass(k.error)?(a.debug("Revalidating field",c,a.get.validation(c)),a.validate.field(a.get.validation(c))):("blur"==f.on||"change"==f.on)&&a.validate.field(a.get.validation(c))},change:function(){var c=b(this),d=c.closest(t);("change"==f.on||d.hasClass(k.error)&&f.revalidate)&&(clearTimeout(a.timer),a.timer=setTimeout(function(){a.debug("Revalidating field",c,a.get.validation(c)),a.validate.field(a.get.validation(c))},f.delay))}}},get:{changeEvent:function(a){return"checkbox"==a||"radio"==a||"hidden"==a?"change":void 0!==document.createElement("input").oninput?"input":void 0!==document.createElement("input").onpropertychange?"propertychange":"keyup"},field:function(c){return a.verbose("Finding field with identifier",c),h.filter("#"+c).size()>0?h.filter("#"+c):h.filter('[name="'+c+'"]').size()>0?h.filter('[name="'+c+'"]'):h.filter("[data-"+i.validate+'="'+c+'"]').size()>0?h.filter("[data-"+i.validate+'="'+c+'"]'):b("<input/>")},validation:function(c){var d;return b.each(g,function(b,e){a.get.field(e.identifier).get(0)==c.get(0)&&(d=e)}),d||!1}},has:{field:function(b){return a.verbose("Checking for existence of a field with identifier",b),h.filter("#"+b).size()>0?!0:h.filter('[name="'+b+'"]').size()>0?!0:h.filter("[data-"+i.validate+'="'+b+'"]').size()>0?!0:!1}},add:{prompt:function(d,e){var g=a.get.field(d),h=g.closest(t),i=h.find(j.prompt),l=0!==i.size();e="string"==typeof e?[e]:e,a.verbose("Adding field error state",d),h.addClass(k.error),f.inline&&(l||(i=f.templates.prompt(e),i.appendTo(h)),i.html(e[0]),l?a.verbose("Inline errors are disabled, no inline error added",d):f.transition&&void 0!==b.fn.transition&&c.transition("is supported")?(a.verbose("Displaying error with css transition",f.transition),i.transition(f.transition+" in",f.duration)):(a.verbose("Displaying error with fallback javascript animation"),i.fadeIn(f.duration)))},errors:function(b){a.debug("Adding form error messages",b),u.html(f.templates.error(b))}},remove:{prompt:function(d){var e=a.get.field(d.identifier),g=e.closest(t),h=g.find(j.prompt);g.removeClass(k.error),f.inline&&h.is(":visible")&&(a.verbose("Removing prompt for field",d),f.transition&&void 0!==b.fn.transition&&c.transition("is supported")?h.transition(f.transition+" out",f.duration,function(){h.remove()}):h.fadeOut(f.duration,function(){h.remove()}))}},validate:{form:function(d){var e=!0;return w=[],b.each(g,function(b,c){a.validate.field(c)||(e=!1)}),e?(a.debug("Form has no validation errors, submitting"),c.removeClass(k.error).addClass(k.success),b.proxy(f.onSuccess,this)(d)):(a.debug("Form has errors"),c.addClass(k.error),f.inline||a.add.errors(w),b.proxy(f.onFailure,this)(w))},field:function(c){var d=a.get.field(c.identifier),e=!0,g=[];return void 0!==c.rules&&b.each(c.rules,function(b,d){a.has.field(c.identifier)&&!a.validate.rule(c,d)&&(a.debug("Field is invalid",c.identifier,d.type),g.push(d.prompt),e=!1)}),e?(a.remove.prompt(c,g),b.proxy(f.onValid,d)(),!0):(w=w.concat(g),a.add.prompt(c.identifier,g),b.proxy(f.onInvalid,d)(g),!1)},rule:function(d,e){var g,h,i=a.get.field(d.identifier),j=e.type,k=b.trim(i.val()+""),l=/\[(.*)\]/i,m=l.exec(j),n=!0;return void 0!==m&&null!==m?(g=""+m[1],h=j.replace(m[0],""),n=b.proxy(f.rules[h],c)(k,g)):n=b.proxy(f.rules[j],i)(k),n}},setting:function(a,c){if(b.isPlainObject(a))b.extend(!0,f,a);else{if(void 0===c)return f[a];f[a]=c}},internal:function(c,d){if(b.isPlainObject(c))b.extend(!0,a,c);else{if(void 0===d)return a[c];a[c]=d}},debug:function(){f.debug&&(f.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,f.name+":"),a.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,f.name+":"),a.error.apply(console,arguments)},performance:{log:function(b){var c,d,e;f.performance&&(c=(new Date).getTime(),e=o||c,d=c-e,o=c,p.push({Element:x,Name:b[0],Arguments:[].slice.call(b,1)||"","Execution Time":d})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,100)},display:function(){var c=f.name+":",d=0;o=!1,clearTimeout(a.performance.timer),b.each(p,function(a,b){d+=b["Execution Time"]}),c+=" "+d+"ms",n&&(c+=" '"+n+"'"),e.size()>1&&(c+=" ("+e.size()+")"),(void 0!==console.group||void 0!==console.table)&&p.length>0&&(console.groupCollapsed(c),console.table?console.table(p):b.each(p,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(a,c,e){var f,g,h,i=y;return c=c||s,e=x||e,"string"==typeof a&&void 0!==i&&(a=a.split(/[\. ]/),f=a.length-1,b.each(a,function(c,d){var e=c!=f?d+a[c+1].charAt(0).toUpperCase()+a[c+1].slice(1):a;if(b.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!b.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):!1;i=i[d]}})),b.isFunction(g)?h=g.apply(e,c):void 0!==g&&(h=g),b.isArray(d)?d.push(h):void 0!==d?d=[d,h]:void 0!==h&&(d=h),g}},r?(void 0===y&&a.initialize(),a.invoke(q)):(void 0!==y&&a.destroy(),a.initialize())}),void 0!==d?d:this},b.fn.form.settings={name:"Form",namespace:"form",debug:!0,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:150,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{validate:"validate"},selector:{message:".error.message",field:"input, textarea, select",group:".field",input:"input",prompt:".prompt",submit:".submit"},className:{error:"error",success:"success",down:"down",label:"ui label prompt"},error:{method:"The method you called is not defined."},templates:{error:function(a){var c='<ul class="list">';return b.each(a,function(a,b){c+="<li>"+b+"</li>"}),c+="</ul>",b(c)},prompt:function(a){return b("<div/>").addClass("ui red pointing prompt label").html(a[0])}},rules:{checked:function(){return b(this).filter(":checked").size()>0},empty:function(a){return!(void 0===a||""===a)},email:function(a){var b=new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?","i");return b.test(a)},length:function(a,b){return void 0!==a?a.length>=b:!1},not:function(a,b){return a!=b},contains:function(a,b){return b=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==a.search(b)},is:function(a,b){return a==b},maxLength:function(a,b){return void 0!==a?a.length<=b:!1},match:function(a,c){var d,e=b(this);return e.find("#"+c).size()>0?d=e.find("#"+c).val():e.find("[name="+c+"]").size()>0?d=e.find("[name="+c+"]").val():e.find('[data-validate="'+c+'"]').size()>0&&(d=e.find('[data-validate="'+c+'"]').val()),void 0!==d?a.toString()==d.toString():!1},url:function(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)}}}});
